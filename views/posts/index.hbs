<h1>My Feed</h1>
</br>
<a class="new-post-link" href="/posts/new">New post</a>
<br/><br/>
<div class="all-posts">
  {{#each posts}}
  <li id="single-post">

  <div class="post-header">
    <div class="column1-author-details">
      <img id="profile-picture" src="/users/{{ this.author }}/profilepicture" alt="">
      <div id="post-details">
        <p id="post-author">{{ this.author }}</p>
        <p id="post-timestamp">{{idtotime this._id}}</p>
      </div>
    </div>
      <div class="coloumn2-user-buttons">
      {{#if (eq this.author @root.user.username)}}
        <form action="/posts/delete/{{this._id}}" method="post">  
          <input id="delete-post-button" type="submit" value="Delete">
        </form>
        <form action="/posts/edit/{{this._id}}" method="post"> 
          <input id="edit-post-button" type="submit" value="Edit">
        </form>
      {{/if}}
      </div>
    </div>
    
    <div class="post-body">
      <p id="message-content">{{this.message}}</p>
        {{#if this.photo}} <!-- display a photo is upload/none if not -->
          <img class="image" src="/upload/{{this.photo}}" />
        {{/if}}
    </div>
    {{#if (eq this.like_count 0)}}
      <p id="like-count">Be the first to like this post!</p>
    {{else if  (gt this.like_count 1)}}
     <p id="like-count">Liked by {{this.like_count}} people</p>
    {{else if (eq this.like_count 1)}}
     <p id="like-count">Liked by {{this.like_count}} person</p>
    {{/if}}
    <hr>
    <div id="interaction-buttons">
      <form action="/posts/liked" method="post">
        <input id="id" type="hidden" name="id" value="{{this._id}}">
        <input type="submit" id="like-button" name="likeBtn" class="submit {{#contains @root.user._id this.likers }}unlikeBtn{{else}}likeBtn{{/contains}}" value="{{#contains @root.user._id this.likers }}Unlike{{else}}Like{{/contains}}">
      </form>
      
      
      
      <form action="/posts/comment" method="get">
        <input id="id" type="hidden" name="id" value="{{this._id}}">
        <input id="comment-button" type="submit" value="Comment">
      </form>
    </div>
    <br/><hr>
  </li>
  {{/each}}
</div>
